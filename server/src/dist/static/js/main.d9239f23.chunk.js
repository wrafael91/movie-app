(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{16:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},51:function(e,t,c){},69:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(36),i=c.n(s),r=(c(43),c(25)),o=c(2),l=c(6),j=c(3),b=(c(44),c(0));function d(){var e=Object(l.g)(),t=Object(a.useState)(!1),c=Object(o.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){sessionStorage.getItem("token")&&s(!0)}),[]);return Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(j.b,{className:"navbar-brand",to:"/home",children:Object(b.jsx)("strong",{children:"TMDB"})}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),n?Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(b.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/home",children:"Home"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/top-rated",children:"TopRated"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/popular",children:"Popular"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/upcoming",children:"Upcoming"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/now-playing",children:"Now-Playing"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/favorites",children:"Favorites"})})]}),Object(b.jsx)("ul",{className:"navbar-nav",children:Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/home",children:Object(b.jsxs)("i",{className:"fas fa-user",children:[Object(b.jsxs)("span",{children:[" Welcome ",sessionStorage.getItem("name")]})," "]})})})}),Object(b.jsx)("div",{className:"form-inline my-2 my-lg-0",children:Object(b.jsx)(j.b,{onClick:function(){return sessionStorage.clear(),void e.push("/home")},className:"btn btn-danger mr-sm-2",to:"/top-rated",role:"button",children:"Logout"})})]}):Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(b.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/home",children:"Home"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/top-rated",children:"TopRated"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/popular",children:"Popular"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/upcoming",children:"Upcoming"})}),Object(b.jsx)("li",{className:"nav-item-active",children:Object(b.jsx)(j.b,{className:"nav-link",to:"/now-playing",children:"Now-Playing"})})]}),Object(b.jsxs)("div",{className:"form-inline my-2 my-lg-0",children:[Object(b.jsx)(j.b,{className:"btn btn-primary mr-sm-3",to:"/signup",role:"button",children:"SignUp"}),Object(b.jsx)(j.b,{className:"btn btn-success my-2 my-sm-0",to:"/login",role:"button",children:"Login"})]})]})]})}c(51);function m(){return Object(b.jsx)("div",{className:"card-body text-white bg-dark mb-3",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row-footer",children:[Object(b.jsxs)("div",{className:"movie-title",children:[Object(b.jsx)("span",{className:"card-title text-white",children:"TheMovieDB"}),Object(b.jsx)("p",{className:"card-text text-white",children:"Get the latest info about all movies"})]}),Object(b.jsx)("br",{})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"copyright",children:Object(b.jsx)("div",{className:"footer-title col-xs-6",children:Object(b.jsxs)("span",{children:["\xa9 2021 Copyright - ",Object(b.jsx)(j.b,{to:"https://www.themoviedb.org/",children:"TheMovieDB"})," - Developed by ",Object(b.jsx)(j.b,{to:"https://www.github.com/wrafael91",children:"@wrmp91"})]})})})]})})}var O=c(5),h=c(4),u=c.n(h);c(16);function p(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"hero-image",children:[Object(b.jsx)("img",{src:e.image,alt:"hero"}),Object(b.jsxs)("div",{className:"description",children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)("p",{children:e.text})]})]})})}c(69);var x=function(e){return e.actor?Object(b.jsx)("div",{className:"col-1",children:Object(b.jsx)("div",{className:"actor-card",children:Object(b.jsxs)("ul",{className:"list-group",children:[Object(b.jsx)("li",{children:Object(b.jsx)("img",{alt:e.original_title,src:e.image})},e.id),Object(b.jsx)("span",{children:e.actor}),Object(b.jsx)("br",{})]})})}):Object(b.jsx)("div",{className:"col-1",children:Object(b.jsx)("div",{className:"movie-card",children:Object(b.jsxs)("ul",{className:"list-group-movie",children:[Object(b.jsx)("li",{children:Object(b.jsx)(j.b,{to:"/movie/".concat(e.movieId),children:Object(b.jsx)("img",{alt:"img",src:e.image})})},e.id),Object(b.jsx)("label",{children:e.title})]})})})},v="fa75b26c24267f9f093f0967d4af43ed",g="https://api.themoviedb.org/3/movie",f={NOW_PLAYING:"".concat(g,"/now_playing?api_key=").concat(v,"&language=en-US"),POPULAR:"".concat(g,"/popular?api_key=").concat(v,"&language=en-US"),TOP_RATED:"".concat(g,"/top_rated?api_key=").concat(v,"&language=en-US"),UPCOMING:"".concat(g,"/upcoming?api_key=").concat(v,"&language=en-US")},N="".concat(f.TOP_RATED,"&page=1"),w=function(e,t){u.a.get(e).then(t)};function k(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(0),r=Object(o.a)(i,2),l=r[0],j=r[1];Object(a.useEffect)((function(){w(N,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))}),[]);return Object(b.jsxs)("div",{className:"image-container",children:[c[0]&&Object(b.jsx)(p,{image:"http://image.tmdb.org/t/p/w1280".concat(c[0].backdrop_path),title:c[0].original_title,text:c[0].overview}),Object(b.jsxs)("div",{className:"movie-title",children:[Object(b.jsx)("h2",{children:"Top-Rated Movies"}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"row cols-sm-4 cols-md-6 cols-lg-2",children:c&&c.map((function(e,t){return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsx)(x,{image:e.poster_path&&"http://image.tmdb.org/t/p/w500".concat(e.poster_path),movieId:e.id,title:e.original_title})},t)}))})})}),Object(b.jsx)("div",{className:"load-button",children:Object(b.jsx)("button",{onClick:function(){var e="".concat(f.TOP_RATED,"&page=").concat(l+1);w(e,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))},className:"btn btn-info",children:" Load More "})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}var y="".concat(f.POPULAR,"&page=1"),_=function(e,t){u.a.get(e).then(t)};function S(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(0),r=Object(o.a)(i,2),l=r[0],j=r[1];Object(a.useEffect)((function(){_(y,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))}),[]);return Object(b.jsxs)("div",{className:"image-container",children:[c[0]&&Object(b.jsx)(p,{image:"http://image.tmdb.org/t/p/w1280".concat(c[0].backdrop_path),title:c[0].original_title,text:c[0].overview}),Object(b.jsxs)("div",{className:"movie-title",children:[Object(b.jsx)("h2",{children:"Popular Movies"}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"row cols-sm-4 cols-md-6 cols-lg-2",children:c&&c.map((function(e,t){return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsx)(x,{image:e.poster_path&&"http://image.tmdb.org/t/p/w500".concat(e.poster_path),movieId:e.id,title:e.original_title})},t)}))})})}),Object(b.jsx)("div",{className:"load-button",children:Object(b.jsx)("button",{onClick:function(){var e="".concat(f.POPULAR,"&page=").concat(l+1);_(e,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))},className:"btn btn-info",children:" Load More "})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}var F="".concat(f.UPCOMING,"&page=1"),I=function(e,t){u.a.get(e).then(t)};function P(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(0),r=Object(o.a)(i,2),l=r[0],j=r[1];Object(a.useEffect)((function(){I(F,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))}),[]);return Object(b.jsxs)("div",{className:"image-container",children:[c[0]&&Object(b.jsx)(p,{image:"http://image.tmdb.org/t/p/w1280".concat(c[0].backdrop_path),title:c[0].original_title,text:c[0].overview}),Object(b.jsxs)("div",{className:"movie-title",children:[Object(b.jsx)("h2",{children:"Upcoming Movies"}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"row cols-sm-4 cols-md-6 cols-lg-2",children:c&&c.map((function(e,t){return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsx)(x,{image:e.poster_path&&"http://image.tmdb.org/t/p/w500".concat(e.poster_path),movieId:e.id,title:e.original_title})},t)}))})})}),Object(b.jsx)("div",{className:"load-button",children:Object(b.jsx)("button",{onClick:function(){var e="".concat(f.UPCOMING,"&page=").concat(l+1);I(e,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))},className:"btn btn-info",children:" Load More "})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}var C="".concat(f.NOW_PLAYING,"&page=1"),M=function(e,t){u.a.get(e).then(t)};function T(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(0),r=Object(o.a)(i,2),l=r[0],j=r[1];Object(a.useEffect)((function(){M(C,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))}),[]);return Object(b.jsxs)("div",{className:"image-container",children:[c[0]&&Object(b.jsx)(p,{image:"http://image.tmdb.org/t/p/w1280".concat(c[0].backdrop_path),title:c[0].original_title,text:c[0].overview}),Object(b.jsxs)("div",{className:"movie-title",children:[Object(b.jsx)("h2",{children:"Now-Playing Movies"}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"row cols-sm-4 cols-md-6 cols-lg-2",children:c&&c.map((function(e,t){return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsx)(x,{image:e.poster_path&&"http://image.tmdb.org/t/p/w500".concat(e.poster_path),movieId:e.id,title:e.original_title})},t)}))})})}),Object(b.jsx)("div",{className:"load-button",children:Object(b.jsx)("button",{onClick:function(){var e="".concat(f.NOW_PLAYING,"&page=").concat(l+1);M(e,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))},className:"btn btn-info",children:" Load More "})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}var L=c(14),R=c.n(L),U=c(20),E=c(15),D=c.n(E),A=c(80);c(71);function B(){var e=Object(l.g)(),t=Object(a.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(""),r=Object(o.a)(i,2),d=r[0],m=r[1],O=Object(a.useState)(""),h=Object(o.a)(O,2),p=h[0],x=h[1],v=function(){var t=Object(U.a)(R.a.mark((function t(c){var a,s,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),a={name:n,email:d,password:p},t.next=4,u.a.post("".concat("https://tmdb-wrmp91.herokuapp.com","/app/signup"),a);case 4:s=t.sent,"Welcome"!==(i=s.data.message)?D.a.fire({icon:"error",title:i,showConfirmButton:!1,timer:2500}):(e.push("/login"),D.a.fire({icon:"success",title:"Successful registered",showConfirmButton:!1,timer:2500}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"register-box col s12 m4 l2",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(A.a,{border:"secondary",className:"col s12 m4 l2",children:Object(b.jsxs)("form",{className:"form-box col s12 m4 l8",onSubmit:v,children:[Object(b.jsx)("br",{}),Object(b.jsx)("label",{children:"To get access to all content you need to register first"}),Object(b.jsx)("div",{className:"register-title",children:Object(b.jsx)("h4",{children:"Registration Form"})}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name"}),Object(b.jsx)("input",{placeholder:"Name",type:"text",className:"form-control",id:"name","aria-describedby":"",onChange:function(e){return s(e.target.value)},autoFocus:!0,required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{placeholder:"Email",type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:function(e){return m(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{placeholder:"Password",type:"password",className:"form-control",id:"password",onChange:function(e){return x(e.target.value)}})]}),Object(b.jsx)("div",{className:"register-button",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})}),Object(b.jsx)("br",{}),Object(b.jsxs)("h5",{children:["Do you have an account already? ",Object(b.jsx)("br",{}),Object(b.jsx)(j.b,{to:"/login",children:" Login now"})]}),Object(b.jsx)("br",{})]})})})})}c(72);function G(){var e=Object(l.g)(),t=Object(a.useState)(""),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(""),r=Object(o.a)(i,2),d=r[0],m=r[1],O=function(){var t=Object(U.a)(R.a.mark((function t(c){var a,s,i,r,o,l;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),a={email:n,password:d},t.next=4,u.a.post("".concat("https://tmdb-wrmp91.herokuapp.com","/app/login"),a);case 4:s=t.sent,"Welcome"!==(i=s.data.message)?D.a.fire({icon:"error",title:i,showConfirmButton:!1,timer:2500}):(r=s.data.token,o=s.data.name,l=s.data.id,sessionStorage.setItem("token",r),sessionStorage.setItem("name",o),sessionStorage.setItem("iduser",l),e.push("/home"),D.a.fire({icon:"success",title:i,showConfirmButton:!1,timer:2500}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"login-box col s12 m4 l2",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)(A.a,{border:"secondary",className:"col s12 m4 l2",children:[Object(b.jsx)("br",{}),Object(b.jsxs)("form",{className:"form-box col s12 m4 l8",onSubmit:O,children:[Object(b.jsx)("div",{className:"login-title",children:Object(b.jsx)("h4",{children:"Login Form"})}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"name",children:"Email"}),Object(b.jsx)("input",{placeholder:"Email",id:"email",className:"form-control",type:"email",onChange:function(e){return s(e.target.value)},autoFocus:!0,required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{placeholder:"Password",id:"password",type:"password",className:"form-control",onChange:function(e){return m(e.target.value)}})]}),Object(b.jsx)("div",{className:"login-button",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-success",children:"Login"})}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"enroll-now",children:Object(b.jsxs)("h5",{children:["Haven't registered yet? ",Object(b.jsx)(j.b,{to:"/signup",children:" Enroll now"})]})}),Object(b.jsx)("br",{})]})]})})})}var W="".concat(f.POPULAR,"&page=1"),H=function(e,t){u.a.get(e).then(t)};function Y(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(0),r=Object(o.a)(i,2),l=r[0],j=r[1];Object(a.useEffect)((function(){H(W,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))}),[]);return Object(b.jsxs)("div",{className:"image-container",children:[c[0]&&Object(b.jsx)(p,{image:"http://image.tmdb.org/t/p/w1280".concat(c[0].backdrop_path),title:c[0].original_title,text:c[0].overview}),Object(b.jsxs)("div",{className:"movie-title",children:[Object(b.jsx)("h2",{children:"Latest Movies"}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"row cols-sm-6 cols-md-4 cols-lg-2",children:c&&c.map((function(e,t){return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsx)(x,{image:e.poster_path&&"http://image.tmdb.org/t/p/w500".concat(e.poster_path),movieId:e.id,title:e.original_title})},t)}))})})}),Object(b.jsx)("div",{className:"load-button",children:Object(b.jsx)("button",{onClick:function(){var e="".concat(f.POPULAR,"&page=").concat(l+1);H(e,(function(e){s((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e.data.results))})),j(e.data.page)}))},className:"btn btn-info",children:" Load More "})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}c(73);c(74).config();var q={userFrom:localStorage.getItem("iduser")};var J=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){u.a.post("".concat("https://tmdb-wrmp91.herokuapp.com","/app/favorite/getFavoritedMovie"),q).then((function(e){e.data.success?n(e.data.favorites):alert("Failed to get favorite movies ")}))},i=c.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.movieTitle}),Object(b.jsxs)("td",{children:[e.movieRunTime," mins"]}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:function(){return function(e){var t={movieId:e,userFrom:localStorage.getItem("iduser")};u.a.post("".concat("https://tmdb-wrmp91.herokuapp.com","/app/favorite/removeFromFavorite"),t).then((function(e){e.data.success?s():alert("Failed to remove from favorite")}))}(e.movieId)},className:"btn btn-warning",children:"Remove"})})]})}));return Object(b.jsxs)("div",{id:"fav-table",children:[Object(b.jsx)("h1",{children:"Favorite Movies List"}),Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Movie Title"}),Object(b.jsx)("th",{scope:"col",children:"Movie Runtime"}),Object(b.jsx)("th",{scope:"col",children:"Remove"})]})}),Object(b.jsx)("tbody",{children:i})]})]})},V="".concat("https://tmdb-wrmp91.herokuapp.com","/app/favorite/favoriteNumber"),z="".concat("https://tmdb-wrmp91.herokuapp.com","/app/favorite/favorited");function K(e){var t={userFrom:e.userFrom,movieId:e.movieId,movieTitle:e.movieInfo.original_title,movieImage:e.movieInfo.backdrop_path,movieRunTime:e.movieInfo.runtime},c=Object(a.useState)(0),n=Object(o.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(!1),l=Object(o.a)(r,2),j=l[0],d=l[1];Object(a.useEffect)((function(){var e,t;e=V,t=function(e){e.data.success?i(e.data.FavoriteNumber):alert("Failed to get favoriteNumber")},u.a.post(e).then(t),function(e,t){u.a.post(e).then(t)}(z,(function(e){e.data.success?d(e.data.Favorited):alert("Failed to get favorite info")}))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("button",{onClick:function(){j?u.a.post("".concat("https://tmdb-wrmp91.herokuapp.com","/app/favorite/removeFromFavorite"),t).then((function(e){e.data.success?(i(s-1),d(!j)):alert("Failed to remove from favorite")})):u.a.post("".concat("https://tmdb-wrmp91.herokuapp.com","/app/favorite/addToFavorite"),t).then((function(e){e.data.success?(i(s+1),d(!j)):alert("Failed to add to favorites")}))},type:"submit",className:"btn btn-success mx-auto d-block",children:[j?"Remove from Favorite ":"Add to Favorite ",s]})]})}c(78);var Q="fa75b26c24267f9f093f0967d4af43ed",X="https://api.themoviedb.org/3/movie";var Z=function(e){var t=e.match.params.movieId,c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],r=s[1],l=Object(a.useState)([]),j=Object(o.a)(l,2),d=j[0],m=j[1],O=Object(a.useState)(!1),h=Object(o.a)(O,2),v=h[0],g=h[1];Object(a.useEffect)((function(){u.a.get("".concat(X,"/").concat(t,"?api_key=").concat(Q,"&language=en-US")).then((function(e){return e.data})).then((function(e){r(e),u.a.get("".concat(X,"/").concat(t,"/credits?api_key=").concat(Q)).then((function(e){return e.data})).then((function(e){m(e.cast)}))}))}),[t]);var f=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:i&&Object(b.jsx)(p,{image:"http://image.tmdb.org/t/p/w1280".concat(i.backdrop_path),title:i.original_title,year:i.release_date,text:i.overview})}),Object(b.jsxs)("div",{className:"movie-data",children:[Object(b.jsx)(K,{userFrom:localStorage.getItem("iduser"),movieId:t,movieInfo:i}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"Movie Info"}),Object(b.jsxs)("table",{className:"table table-hover",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Title"}),Object(b.jsx)("th",{scope:"col",children:"Date"}),Object(b.jsx)("th",{scope:"col",children:"Score"}),Object(b.jsx)("th",{scope:"col",children:"Runtime"})]})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:i.original_title}),Object(b.jsx)("td",{children:i.release_date}),Object(b.jsx)("td",{children:i.vote_average}),Object(b.jsx)("td",{children:i.runtime+" min"})]})}),Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Revenue"}),Object(b.jsx)("th",{scope:"col",children:"Votes"}),Object(b.jsx)("th",{scope:"col",children:"Status"}),Object(b.jsx)("th",{scope:"col",children:"Popularity"})]})}),Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"USD"+f.format(i.revenue)}),Object(b.jsx)("td",{children:i.vote_count}),Object(b.jsx)("td",{children:i.status}),Object(b.jsx)("td",{children:i.popularity})]})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"btn btn-primary mx-auto d-block",onClick:function(){g(!v)},children:"Starring"}),Object(b.jsx)("hr",{})]})]}),v&&Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:d&&d.map((function(e,t){return Object(b.jsx)(n.a.Fragment,{children:e.profile_path&&Object(b.jsx)(x,{actor:e.name,image:"http://image.tmdb.org/t/p/w500".concat(e.profile_path)})},t)}))})})]})},$=function(){return!!sessionStorage.getItem("token")},ee=function(e){return $()?Object(b.jsx)(l.b,Object(r.a)({},e)):Object(b.jsx)(l.a,{to:"/login"})},te=function(e){return $()?Object(b.jsx)(l.a,{to:"/home"}):Object(b.jsx)(l.b,Object(r.a)({},e))};var ce=function(){return Object(b.jsx)(j.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(d,{}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(ee,{path:"/top-rated",component:k}),Object(b.jsx)(ee,{path:"/popular",component:S}),Object(b.jsx)(ee,{path:"/upcoming",component:P}),Object(b.jsx)(ee,{path:"/now-playing",component:T}),Object(b.jsx)(l.b,{path:"/signup",component:B}),Object(b.jsx)(te,{path:"/login",component:G}),Object(b.jsx)(ee,{path:"/home",component:Y}),Object(b.jsx)(ee,{path:"/favorites",component:J}),Object(b.jsx)(ee,{path:"/movie/:movieId",component:Z}),Object(b.jsx)(G,{})]}),Object(b.jsx)(m,{})]})})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(ce,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.d9239f23.chunk.js.map